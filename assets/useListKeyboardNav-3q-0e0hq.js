import{b as e}from"./react-vendor-DGaPsC2e.js";function t({enabled:t,itemCount:r,focusedIndex:n,setFocusedIndex:o,onActivate:a,columns:s=1,useCapture:i=!0}){const u=e.useRef(n);u.current=n;const c=e.useRef(a);c.current=a,e.useEffect(()=>{if(!t||r<=0)return;const e=e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||t.isContentEditable)return void("Escape"===e.key&&(e.preventDefault(),t.blur()));if(e.ctrlKey||e.metaKey)return;const n=e.key.toLowerCase();if(!("w"===n||"s"===n||"a"===n||"d"===n||"enter"===n||"e"===n||"ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key))return;e.preventDefault(),e.stopPropagation();const a=u.current,i=r,f=Math.max(1,s);if("enter"===n||"e"===n)return void c.current(a);if(f<=1)return void("w"===n||"a"===n||"ArrowUp"===e.key||"ArrowLeft"===e.key?o(e=>Math.max(0,e-1)):o(e=>Math.min(i-1,e+1)));const w=Math.floor(a/f),d=a%f;if("w"===n||"ArrowUp"===e.key){const e=Math.max(0,w-1);o(e*f+d)}else if("s"===n||"ArrowDown"===e.key){const e=Math.min(Math.floor((i-1)/f),w+1)*f+d;o(Math.min(e,i-1))}else"a"===n||"ArrowLeft"===e.key?d>0&&o(a-1):d<f-1&&a+1<i&&o(a+1)};return window.addEventListener("keydown",e,i),()=>window.removeEventListener("keydown",e,i)},[t,r,s,o,i])}export{t as u};
