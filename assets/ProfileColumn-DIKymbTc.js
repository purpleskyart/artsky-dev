import{j as o,i as t}from"./index-B6Oq1pSb.js";import{P as e}from"./PostCard-Cu2axiBS.js";import{setInitialPostForUri as _}from"./postCache-CTqU0alO.js";const l={wrap:"_wrap_hto31_1",wrapInModal:"_wrapInModal_hto31_8",profileHeader:"_profileHeader_hto31_18",avatar:"_avatar_hto31_26",profileHeaderMain:"_profileHeaderMain_hto31_44",profileMenu:"_profileMenu_hto31_51",profileMeta:"_profileMeta_hto31_63",handleRow:"_handleRow_hto31_80",followBtn:"_followBtn_hto31_86",blockedMutedBtn:"_blockedMutedBtn_hto31_87",followNotifyRow:"_followNotifyRow_hto31_88",handle:"_handle_hto31_80",displayName:"_displayName_hto31_94",followBtnFollowing:"_followBtnFollowing_hto31_135",followLabelHover:"_followLabelHover_hto31_146",followLabelDefault:"_followLabelDefault_hto31_150",notificationBellBtn:"_notificationBellBtn_hto31_158",notificationBellBtnActive:"_notificationBellBtnActive_hto31_185",notificationBellIcon:"_notificationBellIcon_hto31_196",description:"_description_hto31_234",followListRow:"_followListRow_hto31_245",followListBtn:"_followListBtn_hto31_252",followedByFollowsPreview:"_followedByFollowsPreview_hto31_274",followedByFollowsText:"_followedByFollowsText_hto31_295",followedByFollowsAvatars:"_followedByFollowsAvatars_hto31_304",followedByFollowsAvatar:"_followedByFollowsAvatar_hto31_304",followedByFollowsAvatarPlaceholder:"_followedByFollowsAvatarPlaceholder_hto31_311",tabsSticky:"_tabsSticky_hto31_345",postsFilterRow:"_postsFilterRow_hto31_377",profileContent:"_profileContent_hto31_389",tabsBarHidden:"_tabsBarHidden_hto31_392",tabs:"_tabs_hto31_345",tab:"_tab_hto31_345",modalTopBarRightButtons:"_modalTopBarRightButtons_hto31_418",toggleBtn:"_toggleBtn_hto31_424",toggleBtnActive:"_toggleBtnActive_hto31_438",toggleBtnIcon:"_toggleBtnIcon_hto31_443",modalBottomBarButtons:"_modalBottomBarButtons_hto31_451",toggleBtnBottomBar:"_toggleBtnBottomBar_hto31_458",tabsRowInModal:"_tabsRowInModal_hto31_478",tabsInModal:"_tabsInModal_hto31_490",tabActive:"_tabActive_hto31_529",postsFilterBtn:"_postsFilterBtn_hto31_544",postsFilterBtnActive:"_postsFilterBtnActive_hto31_560",feedsList:"_feedsList_hto31_565",feedLink:"_feedLink_hto31_574",feedName:"_feedName_hto31_588",feedDesc:"_feedDesc_hto31_594",textList:"_textList_hto31_603",textPostLink:"_textPostLink_hto31_612",textPostHandleLink:"_textPostHandleLink_hto31_637",textLink:"_textLink_hto31_641",textSnippet:"_textSnippet_hto31_655",error:"_error_hto31_664",loading:"_loading_hto31_671",empty:"_empty_hto31_672",grid:"_grid_hto31_678",gridView1:"_gridView1_hto31_689",gridView2:"_gridView2_hto31_690",gridView3:"_gridView3_hto31_691",gridView4:"_gridView4_hto31_692",gridView5:"_gridView5_hto31_693",gridColumns:"_gridColumns_hto31_716",gridColumn:"_gridColumn_hto31_716",gridItem:"_gridItem_hto31_735",card:"_card_hto31_742",cardSelected:"_cardSelected_hto31_743",loadMoreSentinel:"_loadMoreSentinel_hto31_748",loadingMore:"_loadingMore_hto31_755",more:"_more_hto31_762"};function i(i){const{column:n,loadMoreSentinelRef:a,hasCursor:r,keyboardAddOpen:d,actionsMenuOpenForIndex:s,nsfwPreference:h,unblurredUris:f,setUnblurred:w,likeOverrides:c,setLikeOverrides:B,openPostModal:p,cardRef:g,onActionsMenuOpenChange:m,onMouseEnter:u,onAddClose:M,constrainMediaHeight:v=!1,isSelected:b}=i;return 0===n.length?o.jsx("div",{className:l.gridColumn,children:r&&a&&o.jsx("div",{ref:a,className:l.loadMoreSentinel,"aria-hidden":!0})}):o.jsxs("div",{className:l.gridColumn,children:[n.map(({item:i,originalIndex:n})=>o.jsx("div",{ref:g(n),className:l.gridItem,"data-post-uri":i.post.uri,"data-selected":b(n)||void 0,onMouseEnter:()=>u(n),children:o.jsx(e,{item:i,isSelected:b(n),cardRef:()=>{},openAddDropdown:b(n)&&d,onAddClose:M,onPostClick:(o,t)=>{t?.initialItem&&_(o,t.initialItem),p(o,t?.openReply)},constrainMediaHeight:v,nsfwBlurred:"blurred"===h&&t(i.post)&&!f.has(i.post.uri),onNsfwUnblur:()=>w(i.post.uri,!0),likedUriOverride:c[i.post.uri],onLikedChange:(o,t)=>B(e=>({...e,[o]:t??null})),onActionsMenuOpenChange:o=>m(n,o),cardIndex:n,actionsMenuOpenForIndex:s})},`${i.post.uri}-${n}`)),r&&a&&o.jsx("div",{ref:a,className:l.loadMoreSentinel,"aria-hidden":!0})]})}export{i as P,l as p};
